{
  "_type": "export",
  "__exportFormat": 4,
  "__exportDate": "2024-12-09T00:00:00.000Z",
  "__version": 4,
  "resources": [
    {
      "_id": "wrk_1",
      "_type": "workspace",
      "name": "FactuMarket - Microservicios",
      "description": "Workspace para probar los 3 microservicios con autenticaci√≥n JWT",
      "scope": "design"
    },
    {
      "_id": "env_1",
      "_type": "environment",
      "parentId": "wrk_1",
      "name": "Development",
      "data": {
        "clients_url": "http://localhost:3001",
        "invoices_url": "http://localhost:3002",
        "audit_url": "http://localhost:3003",
        "jwt_token": "",
        "api_client_id": "1"
      },
      "dataPropertyOrder": {
        "&": ["clients_url", "invoices_url", "audit_url", "jwt_token", "api_client_id"]
      },
      "color": null,
      "isPrivate": false,
      "metaSortKey": 1,
      "created": 1702000000000,
      "modified": 1702000000000
    },
    {
      "_id": "fld_auth",
      "_type": "request_group",
      "parentId": "wrk_1",
      "name": "üîê Autenticaci√≥n",
      "environment": {}
    },
    {
      "_id": "req_auth_token",
      "_type": "request",
      "parentId": "fld_auth",
      "name": "Obtener JWT Token",
      "url": "{{ _.clients_url }}/api/v1/authenticate",
      "method": "POST",
      "body": {
        "mimeType": "application/json",
        "text": "{\n  \"api_client_id\": {{ _.api_client_id }}\n}"
      },
      "parameters": [],
      "headers": [
        {
          "name": "Content-Type",
          "value": "application/json"
        }
      ],
      "authentication": {},
      "metaSortKey": 1,
      "description": "Obtiene un JWT token usando el ApiClient ID.\n\nNOTA: El API Client se crea autom√°ticamente cuando ejecutas:\n./bin/start.sh\n\nAPI Key generada en los seeds:\n‚úÖ API Client created: Default API Client\n   API Key: cf748e82fecc6eb55e362fa623c6a4addf72f26cb3179c3f6d665f2730091e5c\n\nPuedes obtener el token tambi√©n desde la consola:\ndocker-compose exec clients_service bundle exec rails console\napi_client = ApiClient.first\ntoken = JsonWebToken.encode(api_client_id: api_client.id)\nputs token"
    },
    {
      "_id": "fld_clients",
      "_type": "request_group",
      "parentId": "wrk_1",
      "name": "Clients Service",
      "environment": {}
    },
    {
      "_id": "req_clients_list",
      "_type": "request",
      "parentId": "fld_clients",
      "name": "Listar Clientes",
      "url": "{{ _.clients_url }}/api/v1/clients",
      "method": "GET",
      "body": {},
      "parameters": [],
      "headers": [
        {
          "name": "Authorization",
          "value": "Bearer {{ _.jwt_token }}"
        }
      ],
      "authentication": {},
      "metaSortKey": 1
    },
    {
      "_id": "req_clients_create",
      "_type": "request",
      "parentId": "fld_clients",
      "name": "Crear Cliente",
      "url": "{{ _.clients_url }}/api/v1/clients",
      "method": "POST",
      "body": {
        "mimeType": "application/json",
        "text": "{\n  \"company_name\": \"Nueva Empresa S.A.S\",\n  \"nit\": \"900999888-7\",\n  \"email\": \"contacto@nuevaempresa.com\",\n  \"address\": \"Calle 100 #50-30, Bogot√°\",\n  \"phone\": \"3005551234\"\n}"
      },
      "parameters": [],
      "headers": [
        {
          "name": "Content-Type",
          "value": "application/json"
        },
        {
          "name": "Authorization",
          "value": "Bearer {{ _.jwt_token }}"
        }
      ],
      "authentication": {},
      "metaSortKey": 2
    },
    {
      "_id": "req_clients_get",
      "_type": "request",
      "parentId": "fld_clients",
      "name": "Obtener Cliente por ID",
      "url": "{{ _.clients_url }}/api/v1/clients/1",
      "method": "GET",
      "body": {},
      "parameters": [],
      "headers": [
        {
          "name": "Authorization",
          "value": "Bearer {{ _.jwt_token }}"
        }
      ],
      "authentication": {},
      "metaSortKey": 3
    },
    {
      "_id": "req_clients_search",
      "_type": "request",
      "parentId": "fld_clients",
      "name": "Buscar Cliente por NIT",
      "url": "{{ _.clients_url }}/api/v1/clients/search_by_nit?nit=900123456-7",
      "method": "GET",
      "body": {},
      "parameters": [],
      "headers": [
        {
          "name": "Authorization",
          "value": "Bearer {{ _.jwt_token }}"
        }
      ],
      "authentication": {},
      "metaSortKey": 4
    },
    {
      "_id": "fld_invoices",
      "_type": "request_group",
      "parentId": "wrk_1",
      "name": "Invoices Service",
      "environment": {}
    },
    {
      "_id": "req_invoices_list",
      "_type": "request",
      "parentId": "fld_invoices",
      "name": "Listar Facturas",
      "url": "{{ _.invoices_url }}/api/v1/invoices",
      "method": "GET",
      "body": {},
      "parameters": [],
      "headers": [
        {
          "name": "Authorization",
          "value": "Bearer {{ _.jwt_token }}"
        }
      ],
      "authentication": {},
      "metaSortKey": 1
    },
    {
      "_id": "req_invoices_create",
      "_type": "request",
      "parentId": "fld_invoices",
      "name": "Crear Factura",
      "url": "{{ _.invoices_url }}/api/v1/invoices",
      "method": "POST",
      "body": {
        "mimeType": "application/json",
        "text": "{\n  \"client_id\": 1,\n  \"amount\": 2500000,\n  \"issue_date\": \"2024-12-09\"\n}"
      },
      "parameters": [],
      "headers": [
        {
          "name": "Content-Type",
          "value": "application/json"
        },
        {
          "name": "Authorization",
          "value": "Bearer {{ _.jwt_token }}"
        }
      ],
      "authentication": {},
      "metaSortKey": 2
    },
    {
      "_id": "req_invoices_get",
      "_type": "request",
      "parentId": "fld_invoices",
      "name": "Obtener Factura por ID",
      "url": "{{ _.invoices_url }}/api/v1/invoices/1",
      "method": "GET",
      "body": {},
      "parameters": [],
      "headers": [
        {
          "name": "Authorization",
          "value": "Bearer {{ _.jwt_token }}"
        }
      ],
      "authentication": {},
      "metaSortKey": 3
    },
    {
      "_id": "req_invoices_update",
      "_type": "request",
      "parentId": "fld_invoices",
      "name": "Actualizar Factura",
      "url": "{{ _.invoices_url }}/api/v1/invoices/1",
      "method": "PUT",
      "body": {
        "mimeType": "application/json",
        "text": "{\n  \"amount\": 3000000,\n  \"issue_date\": \"2024-12-09\"\n}"
      },
      "parameters": [],
      "headers": [
        {
          "name": "Content-Type",
          "value": "application/json"
        },
        {
          "name": "Authorization",
          "value": "Bearer {{ _.jwt_token }}"
        }
      ],
      "authentication": {},
      "metaSortKey": 4
    },
    {
      "_id": "fld_audit",
      "_type": "request_group",
      "parentId": "wrk_1",
      "name": "Audit Service",
      "environment": {}
    },
    {
      "_id": "req_audit_list",
      "_type": "request",
      "parentId": "fld_audit",
      "name": "Listar Logs de Auditor√≠a",
      "url": "{{ _.audit_url }}/api/v1/audit_logs?page=1&per_page=20",
      "method": "GET",
      "body": {},
      "parameters": [],
      "headers": [
        {
          "name": "Authorization",
          "value": "Bearer {{ _.jwt_token }}"
        }
      ],
      "authentication": {},
      "metaSortKey": 1
    },
    {
      "_id": "req_audit_entity",
      "_type": "request",
      "parentId": "fld_audit",
      "name": "Logs por Entidad",
      "url": "{{ _.audit_url }}/api/v1/audit_logs/by_entity?entity=Client&entity_id=1",
      "method": "GET",
      "body": {},
      "parameters": [],
      "headers": [
        {
          "name": "Authorization",
          "value": "Bearer {{ _.jwt_token }}"
        }
      ],
      "authentication": {},
      "metaSortKey": 2
    },
    {
      "_id": "req_audit_get",
      "_type": "request",
      "parentId": "fld_audit",
      "name": "Obtener Log por ID",
      "url": "{{ _.audit_url }}/api/v1/audit_logs/1",
      "method": "GET",
      "body": {},
      "parameters": [],
      "headers": [
        {
          "name": "Authorization",
          "value": "Bearer {{ _.jwt_token }}"
        }
      ],
      "authentication": {},
      "metaSortKey": 3
    }
  ]
}
